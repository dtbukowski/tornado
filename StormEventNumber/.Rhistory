#print(row.names(as.data.frame(datLBig[1])))
#print(dat2[1,]$LOCATION)
getwd()
#print(row.names(as.data.frame(datLBig[1])))
#print(dat2[1,]$LOCATION)
setwd("..")
getwd()
dat <- read.csv("StormEvents_locations-ftp_v1.0_d2017_c20190716.csv",stringsAsFactors=FALSE)
#print(row.names(as.data.frame(datLBig[1])))
#print(dat2[1,]$LOCATION)
getwd()
#print(row.names(as.data.frame(datLBig[1])))
#print(dat2[1,]$LOCATION)
list.files(".")
#print(row.names(as.data.frame(datLBig[1])))
#print(dat2[1,]$LOCATION)
setwd("StormEventNumber")
getwd()
list.files(".")
setwd("StormEventNumber")
getwd()
list.files(".")
read.csv(filename,stringsAsFactors=FALSE)
read.csv("StormEvents_locations-ftp_v1.0_d2017_c20190716.csv",stringsAsFactors=FALSE)
setwd("StormEventNumber")
getwd()
list.files(".")
dat2017 <- get_storm_event_table("StormEvents_locations-ftp_v1.0_d2017_c20190716.csv",stringsAsFactors=FALSE)
get_storm_event_table <- function (filename) {
dat <- read.csv(filename,stringsAsFactors=FALSE)
dat <- transform(dat,
lat  = round(LATITUDE),
long = round(LONGITUDE))
dat <- transform(dat,
lat  = factor(lat,-14:63),
long = factor(long,-171:-65))
return(table(dat$lat,dat$long))
}
print(dat2017)
setwd("StormEventNumber")
getwd()
list.files(".")
get_storm_event_table <- function (filename) {
dat <- read.csv(filename,stringsAsFactors=FALSE)
dat <- transform(dat,
lat  = round(LATITUDE),
long = round(LONGITUDE))
dat <- transform(dat,
lat  = factor(lat,-14:63),
long = factor(long,-171:-65))
return(table(dat$lat,dat$long))
}
dat2017 <- get_storm_event_table("StormEvents_locations-ftp_v1.0_d2017_c20190716.csv",stringsAsFactors=FALSE)
print(dat2017)
setwd("StormEventNumber")
getwd()
list.files(".")
get_storm_event_table <- function (filename) {
dat <- read.csv(filename,stringsAsFactors=FALSE)
dat <- transform(dat,
lat  = round(LATITUDE),
long = round(LONGITUDE))
dat <- transform(dat,
lat  = factor(lat,-14:63),
long = factor(long,-171:-65))
return(table(dat$lat,dat$long))
}
dat2017 <- get_storm_event_table("StormEvents_locations-ftp_v1.0_d2017_c20190716.csv")
print(dat2017)
list.files(".")
list.files(".")
print(dat2017)
dat2017 <- get_storm_event_table("StormEvents_locations-ftp_v1.0_d2017_c20190716.csv")
print(read.csv("StormEvents_locations-ftp_v1.0_d2018_c20190617.csv", stringAsFactors = FALSE))
print(read.csv("StormEvents_locations-ftp_v1.0_d2018_c20190617.csv", stringsAsFactors = FALSE))
filesNames <- Sys.glob("*.csv")
firstfile = TRUE
for(file in filesNames){
if (firstfile){
dat <- read.csv(file,stringsAsFactors=FALSE)
dat <- transform(dat,
lat  = round(LATITUDE),
long = round(LONGITUDE))
dat <- transform(dat,
lat  = factor(lat,-14:63),
long = factor(long,-171:-65))
datT <- table(dat$lat,dat$long)
firstfile = FALSE
}
dat2 <- read.csv(filename,stringsAsFactors=FALSE)
dat2 <- transform(dat,
lat  = round(LATITUDE),
long = round(LONGITUDE))
dat2 <- transform(dat,
lat  = factor(lat,-14:63),
long = factor(long,-171:-65))
datT = datT + table(dat$lat,dat$long)
}
filesNames <- Sys.glob("*.csv")
firstfile = TRUE
for(file in filesNames){
if (firstfile){
dat <- read.csv(file,stringsAsFactors=FALSE)
dat <- transform(dat,
lat  = round(LATITUDE),
long = round(LONGITUDE))
dat <- transform(dat,
lat  = factor(lat,-14:63),
long = factor(long,-171:-65))
datT <- table(dat$lat,dat$long)
firstfile = FALSE
}
dat2 <- read.csv(file,stringsAsFactors=FALSE)
dat2 <- transform(dat,
lat  = round(LATITUDE),
long = round(LONGITUDE))
dat2 <- transform(dat,
lat  = factor(lat,-14:63),
long = factor(long,-171:-65))
datT = datT + table(dat$lat,dat$long)
}
datT
filesNames <- Sys.glob("*.csv")
firstfile = TRUE
for(file in filesNames){
if (firstfile){
dat <- read.csv(file,stringsAsFactors=FALSE)
dat <- transform(dat,
lat  = round(LATITUDE),
long = round(LONGITUDE))
dat <- transform(dat,
lat  = factor(lat,-14:63),
long = factor(long,-171:-65))
datT <- table(dat$lat,dat$long)
firstfile = FALSE
}
dat2 <- read.csv(file,stringsAsFactors=FALSE)
dat2 <- transform(dat,
lat  = round(LATITUDE),
long = round(LONGITUDE))
dat2 <- transform(dat,
lat  = factor(lat,-14:63),
long = factor(long,-171:-65))
print(datT)
datT = datT + table(dat$lat,dat$long)
}
library(ggplot2)
quickplot(as.vector(datT))
ggplot(datT)
long  = as.vector(matrix(as.numeric(rownames(datT)),78,107,byrow=FALSE)),
count = as.vector(datT))
datTframe <- data.frame(lat   = as.vector(matrix(as.numeric(colnames(datT)),78,107,byrow=TRUE)),
long  = as.vector(matrix(as.numeric(rownames(datT)),78,107,byrow=FALSE)),
count = as.vector(datT))
ggplot(datTframe)
ggplot(datTframe, aes(x = lat, y = long, color = count)) +
geom_point(size = 3) +
scale_color_gradient2(low = "darkgreen",high = "darkred",mid = "white") +
theme_minimal()
p1 <- ggplot(cplot2018m2017, aes(x = lat, y = long, color = count)) +
geom_point(size = 2) +
scale_color_gradient2(low = "darkgreen",high = "darkred",mid = "white") +
theme_minimal()
p1 <- ggplot(datTframe, aes(x = lat, y = long, color = count)) +
geom_point(size = 2) +
scale_color_gradient2(low = "darkgreen",high = "darkred",mid = "white") +
theme_minimal()
datTplot <- ggplot(datTframe, aes(x = lat, y = long, color = count)) +
geom_point(size = 2) +
scale_color_gradient2(low = "darkgreen",high = "darkred",mid = "white") +
theme_minimal()
datTplot <- ggplot(datTframe, aes(x = lat, y = long, color = count)) +
geom_point(size = 1) +
scale_color_gradient2(low = "darkgreen",high = "darkred",mid = "white") +
theme_minimal()
datTplot
datTplot <- ggplot(datTframe, aes(x = lat, y = long, color = count)) +
geom_point(size = 1) +
scale_color_gradient2(low = "darkgreen",high = "darkred",mid = "skyblue") +
theme_minimal()
datTplot
datTplot <- ggplot(datTframe, aes(x = lat, y = long, color = count)) +
geom_point(size = 1) +
scale_color_gradient2(low = "darkgreen",high = "darkred",mid = "white") +
theme_minimal()
datTplot
